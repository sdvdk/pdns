# This is a Puppet autogenerated configuration file
#################################
# setgid    If set, change group id to this gid for more security
#
# setgid=

setgid=<%= @setgid %>

#################################
# setuid    If set, change user id to this uid for more security
#
# setuid=

setuid=<%= @setuid %>

#################################
# allow-from    If set, only allow these comma separated netmasks to recurse
#
# allow-from=127.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 169.254.0.0/16, 192.168.0.0/16, 172.16.0.0/12, ::1/128, fe80::/10

<% if @allow_from -%>
allow-from=<%= @allow_from %>
<% end -%>

#################################
# allow-from-file   If set, load allowed netmasks from this file
#
# allow-from-file=

<% if @allow_from_file -%>
allow-from-file=<%= @allow_from_file %>
<% end -%>

#################################
# any-to-tcp    Answer ANY queries with tc=1, shunting to TCP
#
# any-to-tcp=no

<% if @any_to_tcp -%>
any-to-tcp=<%= @any_to_tcp %>
<% end -%>

#################################
# auth-zones    Zones for which we have authoritative data, comma separated domain=file pairs
#
# auth-zones=

<% if @auth_zones -%>
auth-zones=<%= @auth_zones %>
<% end -%>

#################################
# carbon-interval   Number of seconds between carbon (graphite) updates
#
# carbon-interval=30

<% if @carbon_interval -%>
carbon-interval=<%= @carbon_interval %>
<% end -%>

#################################
# carbon-ourname    If set, overrides our reported hostname for carbon stats
#
# carbon-ourname=

<% if @carbon_ourname -%>
carbon-ourname=<%= @carbon_ourname %>
<% end -%>

#################################
# carbon-server If set, send metrics in carbon (graphite) format to this server
#
# carbon-server=

<% if @carbon_server -%>
carbon-server=<%= @carbon_server %>
<% end -%>

#################################
# chroot    switch to chroot jail
#
# chroot=

<% if @chroot -%>
chroot=<%= @chroot %>
<% end -%>

#################################
# client-tcp-timeout    Timeout in seconds when talking to TCP clients
#
# client-tcp-timeout=2

<% if @client_tcp_timeout -%>
client-tcp-timeout=<%= @client_tcp_timeout %>
<% end -%>

#################################
# config-dir    Location of configuration directory (recursor.conf)
#
# config-dir=/etc/pdns-recursor

<% if @config_dir -%>
config-dir=<%= @config_dir %>
<% end -%>

#################################
# config-name   Name of this virtual configuration - will rename the binary image
#
# config-name=

<% if @config_name -%>
config-name=<%= @config_name %>
<% end -%>

#################################
# daemon    Operate as a daemon
#
# daemon=yes

<% if @daemon -%>
daemon=<%= @daemon %>
<% end -%>

#################################
# delegation-only   Which domains we only accept delegations from
#
# delegation-only=

<% if @delegation_only -%>
delegation-only=<%= @delegation_only %>
<% end -%>

#################################
# disable-edns  Disable EDNS - EXPERIMENTAL, LEAVE DISABLED
#
# disable-edns=

<% if @disable_edns -%>
disable-edns=<%= @disable_edns %>
<% end -%>

#################################
# disable-packetcache   Disable packetcache
#
# disable-packetcache=no

<% if @disable_packetcache -%>
disable-packetcache=<%= @disable_packetcache %>
<% end -%>

#################################
# dont-query    If set, do not query these netmasks for DNS data
#
# dont-query=127.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 169.254.0.0/16, 192.168.0.0/16, 172.16.0.0/12, ::1/128, fe80::/10

<% if @dont_query -%>
dont-query=<%= @dont_query %>
<% end -%>

#################################
# entropy-source    If set, read entropy from this file
#
# entropy-source=/dev/urandom

<% if @entropy_source -%>
entropy-source=<%= @entropy_source %>
<% end -%>

#################################
# etc-hosts-file    Path to 'hosts' file
#
# etc-hosts-file=/etc/hosts

<% if @etc_hosts_file -%>
etc-hosts-file=<%= @etc_hosts_file %>
<% end -%>

#################################
# experimental-api-config-dir   Directory where REST API stores config and zones
#
# experimental-api-config-dir=

<% if @experimental_api_config_dir -%>
experimental-api-config-dir=<%= @experimental_api_config_dir %>
<% end -%>

#################################
# experimental-api-key  REST API Static authentication key (required for API use)
#
# experimental-api-key=

<% if @experimental_api_key -%>
experimental-api-key=<%= @experimental_api_key %>
<% end -%>

#################################
# experimental-api-readonly If the JSON API should disallow data modification
#
# experimental-api-readonly=no

<% if @experimental_api_readonly -%>
experimental-api-readonly=<%= @experimental_api_readonly %>
<% end -%>

#################################
# experimental-logfile  Filename of the log file for JSON parser
#
# experimental-logfile=/var/log/pdns.log

<% if @experimental_logfile -%>
experimental-logfile=<%= @experimental_logfile %>
<% end -%>

#################################
# experimental-webserver    Start a webserver for monitoring
#
# experimental-webserver=no

<% if @experimental_webserver -%>
experimental-webserver=<%= @experimental_webserver %>
<% end -%>

#################################
# experimental-webserver-address    IP Address of webserver to listen on
#
# experimental-webserver-address=127.0.0.1

<% if @experimental_webserver_address -%>
experimental-webserver-address=<%= @experimental_webserver_address %>
<% end -%>

#################################
# experimental-webserver-password   Password required for accessing the webserver
#
# experimental-webserver-password=

<% if @experimental_webserver_password -%>
experimental-webserver-password=<%= @experimental_webserver_password %>
<% end -%>

#################################
# experimental-webserver-port   Port of webserver to listen on
#
# experimental-webserver-port=8082

<% if @experimental_webserver_port -%>
experimental-webserver-port=<%= @experimental_webserver_port %>
<% end -%>

#################################
# export-etc-hosts  If we should serve up contents from /etc/hosts
#
# export-etc-hosts=off

<% if @export_etc_hosts -%>
export-etc-hosts=<%= @export_etc_hosts %>
<% end -%>

#################################
# export-etc-hosts-search-suffix    Also serve up the contents of /etc/hosts with this suffix
#
# export-etc-hosts-search-suffix=

<% if @export_etc_hosts_search_suffix -%>
export-etc-hosts-search-suffix=<%= @export_etc_hosts_search_suffix %>
<% end -%>

#################################
# forward-zones Zones for which we forward queries, comma separated domain=ip pairs
#
# forward-zones=

<% if @forward_zones -%>
forward-zones=<%= @forward_zones %>
<% end -%>

#################################
# forward-zones-file    File with (+)domain=ip pairs for forwarding
#
# forward-zones-file=

<% if @forward_zones_file -%>
forward-zones-file=<%= @forward_zones_file %>
<% end -%>

#################################
# forward-zones-recurse Zones for which we forward queries with recursion bit, comma separated domain=ip pairs
#
# forward-zones-recurse=

<% if @forward_zones_recurse -%>
forward-zones-recurse=<%= @forward_zones_recurse %>
<% end -%>

#################################
# hint-file If set, load root hints from this file
#
# hint-file=

<% if @hint_file -%>
hint-file=<%= @hint_file %>
<% end -%>

#################################
# include-dir   Include *.conf files from this directory
#
# include-dir=

<% if @include_dir -%>
include-dir=<%= @include_dir %>
<% end -%>

#################################
# latency-statistic-size    Number of latency values to calculate the qa-latency average
#
# latency-statistic-size=10000

<% if @latency_statistic_size -%>
latency-statistic-size=<%= @latency_statistic_size %>
<% end -%>

#################################
# local-address IP addresses to listen on, separated by spaces or commas. Also accepts ports.
#
# local-address=127.0.0.1

<% if @local_address -%>
local-address=<%= @local_address %>
<% end -%>

#################################
# local-port    port to listen on
#
# local-port=53

<% if @local_port -%>
local-port=<%= @local_port %>
<% end -%>

#################################
# log-common-errors If we should log rather common errors
#
# log-common-errors=yes

<% if @log_common_errors -%>
log-common-errors=<%= @log_common_errors %>
<% end -%>

#################################
# logging-facility  Facility to log messages as. 0 corresponds to local0
#
# logging-facility=

<% if @logging_facility -%>
logging-facility=<%= @logging_facility %>
<% end -%>

#################################
# loglevel  Amount of logging. Higher is more. Do not set below 3
#
# loglevel=4

<% if @log_level -%>
loglevel=<%= @log_level %>
<% end -%>

#################################
# lua-dns-script    Filename containing an optional 'lua' script that will be used to modify dns answers
#
# lua-dns-script=

<% if @lua_dns_script -%>
lua-dns-script=<%= @lua_dns_script %>
<% end -%>

#################################
# max-cache-entries If set, maximum number of entries in the main cache
#
# max-cache-entries=1000000

<% if @max_cache_entries -%>
max-cache-entries=<%= @max_cache_entries %>
<% end -%>

#################################
# max-cache-ttl maximum number of seconds to keep a cached entry in memory
#
# max-cache-ttl=86400

<% if @max_cache_ttl -%>
max-cache-ttl=<%= @max_cache_ttl %>
<% end -%>

#################################
# max-mthreads  Maximum number of simultaneous Mtasker threads
#
# max-mthreads=2048

<% if @max_mthreads -%>
max-mthreads=<%= @max_mthreads %>
<% end -%>

#################################
# max-negative-ttl  maximum number of seconds to keep a negative cached entry in memory
#
# max-negative-ttl=3600

<% if @max_negative_ttl -%>
max-negative-ttl=<%= @max_negative_ttl %>
<% end -%>

#################################
# max-packetcache-entries   maximum number of entries to keep in the packetcache
#
# max-packetcache-entries=500000

<% if @max_packetcache_entries -%>
max-packetcache-entries=<%= @max_packetcache_entries %>
<% end -%>

#################################
# max-tcp-clients   Maximum number of simultaneous TCP clients
#
# max-tcp-clients=128

<% if @max_tcp_clients -%>
max-tcp-clients=<%= @max_tcp_clients %>
<% end -%>

#################################
# max-tcp-per-client    If set, maximum number of TCP sessions per client (IP address)
#
# max-tcp-per-client=0

<% if @max_tcp_per_client -%>
max-tcp-per-client=<%= @max_tcp_per_client %>
<% end -%>

#################################
# minimum-ttl-override  Set under adverse conditions, a minimum TTL
#
# minimum-ttl-override=0

<% if @minimum_ttl_override -%>
minimum-ttl-override=<%= @minimum_ttl_override %>
<% end -%>

#################################
# network-timeout   Wait this nummer of milliseconds for network i/o
#
# network-timeout=1500

<% if @network_timeout -%>
network-timeout=<%= @network_timeout %>
<% end -%>

#################################
# no-shuffle    Don't change
#
# no-shuffle=off

<% if @no_shuffle -%>
no-shuffle=<%= @no_shuffle %>
<% end -%>

#################################
# packetcache-servfail-ttl  maximum number of seconds to keep a cached servfail entry in packetcache
#
# packetcache-servfail-ttl=60

<% if @packetcache_servfail_ttl -%>
packetcache-servfail-ttl=<%= @packetcache_servfail_ttl %>
<% end -%>

#################################
# packetcache-ttl   maximum number of seconds to keep a cached entry in packetcache
#
# packetcache-ttl=3600

<% if @packetcache_ttl -%>
packetcache-ttl=<%= @packetcache_ttl %>
<% end -%>

#################################
# pdns-distributes-queries  If PowerDNS itself should distribute queries over threads (EXPERIMENTAL)
#
# pdns-distributes-queries=no

<% if @pdns_distributes_queries -%>
pdns-distributes-queries=<%= @pdns_distributes_queries %>
<% end -%>

#################################
# processes Launch this number of processes (EXPERIMENTAL, DO NOT CHANGE)
#
# processes=1

<% if @processes -%>
processes=<%= @processes %>
<% end -%>

#################################
# query-local-address   Source IP address for sending queries
#
# query-local-address=0.0.0.0

<% if @query_local_address -%>
query-local-address=<%= @query_local_address %>
<% end -%>

#################################
# query-local-address6  Source IPv6 address for sending queries. IF UNSET, IPv6 WILL NOT BE USED FOR OUTGOING QUERIES
#
# query-local-address6=

<% if @query_local_address6 -%>
query-local-address6=<%= @query_local_address6 %>
<% end -%>

#################################
# quiet Suppress logging of questions and answers
#
# quiet=

<% if @quiet -%>
quiet=<%= @quiet %>
<% end -%>

#################################
# remotes-ringbuffer-entries    maximum number of packets to store statistics for
#
# remotes-ringbuffer-entries=0

<% if @remotes_ringbuffer_entries -%>
remotes-ringbuffer-entries=<%= @remotes_ringbuffer_entries %>
<% end -%>

#################################
# security-poll-suffix  Domain name from which to query security update notifications
#
# security-poll-suffix=secpoll.powerdns.com.

<% if @security_poll_suffix -%>
security-poll-suffix=<%= @security_poll_suffix %>
<% end -%>

#################################
# serve-rfc1918 If we should be authoritative for RFC 1918 private IP space
#
# serve-rfc1918=

<% if @serve_rfc1918 -%>
serve-rfc1918=<%= @serve_rfc1918 %>
<% end -%>

#################################
# server-down-max-fails Maximum number of consecutive timeouts (and unreachables) to mark a server as down ( 0 => disabled )
#
# server-down-max-fails=64

<% if @server_down_max_fails -%>
server-down-max-fails=<%= @server_down_max_fails %>
<% end -%>

#################################
# server-down-throttle-time Number of seconds to throttle all queries to a server after being marked as down
#
# server-down-throttle-time=60

<% if @server_down_throttle_time -%>
server-down-throttle-time=<%= @server_down_throttle_time %>
<% end -%>

#################################
# server-id Returned when queried for 'server.id' TXT or NSID, defaults to hostname
#
# server-id=

<% if @server_id -%>
server-id=<%= @server_id %>
<% end -%>

#################################
# single-socket If set, only use a single socket for outgoing queries
#
# single-socket=off

<% if @single_socket -%>
single-socket=<%= @single_socket %>
<% end -%>

#################################
# soa-minimum-ttl   Don't change
#
# soa-minimum-ttl=0

<% if @soa_minimum_ttl -%>
soa-minimum-ttl=<%= @soa_minimum_ttl %>
<% end -%>

#################################
# soa-serial-offset Don't change
#
# soa-serial-offset=0

<% if @soa_serial_offset -%>
soa-serial-offset=<%= @soa_serial_offset %>
<% end -%>

#################################
# socket-dir    Where the controlsocket will live
#
# socket-dir=/var/run/

<% if @socket_dir -%>
socket-dir=<%= @socket_dir %>
<% end -%>

#################################
# socket-group  Group of socket
#
# socket-group=

<% if @socket_group -%>
socket-group=<%= @socket_group %>
<% end -%>

#################################
# socket-mode   Permissions for socket
#
# socket-mode=

<% if @socket_mode -%>
socket-mode=<%= @socket_mode %>
<% end -%>

#################################
# socket-owner  Owner of socket
#
# socket-owner=

<% if @socket_owner -%>
socket-owner=<%= @socket_owner %>
<% end -%>

#################################
# spoof-nearmiss-max    If non-zero, assume spoofing after this many near misses
#
# spoof-nearmiss-max=20

<% if @spoof_nearmiss_max -%>
spoof-nearmiss-max=<%= @spoof_nearmiss_max %>
<% end -%>

#################################
# stack-size    stack size per mthread
#
# stack-size=200000

<% if @stack_size -%>
stack-size=<%= @stack_size %>
<% end -%>

#################################
# threads   Launch this number of threads
#
# threads=2

<% if @threads -%>
threads=<%= @threads %>
<% end -%>

#################################
# trace if we should output heaps of logging. set to 'fail' to only log failing domains
#
# trace=off

<% if @trace -%>
trace=<%= @trace %>
<% end -%>

#################################
# udp-truncation-threshold  Maximum UDP response size before we truncate
#
# udp-truncation-threshold=1680

<% if @udp_truncation_threshold -%>
udp-truncation-threshold=<%= @udp_truncation_threshold %>
<% end -%>

#################################
# version-string    string reported on version.pdns or version.bind
#
# version-string=PowerDNS Recursor 3.6.2 (jenkins@autotest.powerdns.com built 20141031140810 mockbuild@)

<% if @version_string -%>
version-string=<%= @version_string %>
<% end -%>
